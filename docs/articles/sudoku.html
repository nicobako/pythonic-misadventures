
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Sudoku Solver &#8212; Pythonic Misadventures</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'articles/sudoku';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="xarray for modeling and simulation" href="xarray_computations.html" />
    <link rel="prev" title="Treating pixels as vectors" href="images.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Pythonic Misadventures - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Pythonic Misadventures - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to Nico’s Blog
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Articles</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="music.html">What if Music Used a Different System?</a></li>
<li class="toctree-l1"><a class="reference internal" href="good_documentation.html">On Good Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="function_dispatch.html">Custom Function Dispatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="wordle.html">Best Wordle Words</a></li>
<li class="toctree-l1"><a class="reference internal" href="maze.html">Solving a Maze</a></li>
<li class="toctree-l1"><a class="reference internal" href="image_boundaries.html">Boundary Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="images.html">Treating pixels as vectors</a></li>


<li class="toctree-l1 current active"><a class="current reference internal" href="#">Sudoku Solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="xarray_computations.html">xarray for modeling and simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydantic_autodoc.html">Autodocumenting Pydantic Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to_flatten_a_python_dict.html">How to Flatten a Python <code class="docutils literal notranslate"><span class="pre">dict</span></code></a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Project Euler</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../project_euler/index.html">Project Euler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_euler/problem_1.html">Problem 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_euler/problem_2.html">Problem 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_euler/problem_3.html">Problem 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_euler/problem_4.html">Problem 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_euler/problem_5.html">Problem 5</a></li>

<li class="toctree-l1"><a class="reference internal" href="../project_euler/problem_6.html">Problem 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_euler/problem_7.html">Problem 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_euler/problem_11.html">Problem 11</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">More Information</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../info/about_the_author.html">About Nico Bakomihalis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../info/about_this_blog.html">About this Blog</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/nicobako/pythonic_misadventures" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/nicobako/pythonic_misadventures/edit/master/book/articles/sudoku.py" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/nicobako/pythonic_misadventures/issues/new?title=Issue%20on%20page%20%2Farticles/sudoku.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/articles/sudoku.py" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.py</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Sudoku Solver</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#no-backtracking-please">No Backtracking, Please…</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-processing-approach">Graph Processing Approach</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sudoku-data-structure">Sudoku Data Structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-the-sudoku">Visualizing the Sudoku</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-the-complex-connections">Understanding the complex connections</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connected-components">Connected components</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#node-neighbors">Node neighbors</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-solver">Creating a <em>solver</em></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-real-sudokus">Creating real sudokus</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#techniques-for-solving-sudokus">Techniques for solving sudokus</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unique-canditates">Unique canditates</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="sudoku-solver">
<h1>Sudoku Solver<a class="headerlink" href="#sudoku-solver" title="Link to this heading">#</a></h1>
<p><em>Why not try to write a sudoku solver in Python?
I mean, how hard can it be?</em></p>
<section id="no-backtracking-please">
<h2>No Backtracking, Please…<a class="headerlink" href="#no-backtracking-please" title="Link to this heading">#</a></h2>
<p>A quick google search for how to solve sudokus programmatically
will give you many <em>backtracking</em> solutions. While <em>backtracking</em>
is a great way to solve sudokus, I personally just don’t like it.
Backtracking can be summarized as follows:</p>
<p><em>For every empty cell, guess a random number.
If an incorrect number has been guessed, then backtrack and
guess a different number. Repeat until the sudoku is solved.</em></p>
<p>Backtracking not only lacks elegance,
but, from an algorithmic perspective, it’s not very efficient.
Let’s see if we can do something better!</p>
</section>
<section id="graph-processing-approach">
<h2>Graph Processing Approach<a class="headerlink" href="#graph-processing-approach" title="Link to this heading">#</a></h2>
<p>The cells of a sudoku are connected to one
another in interesting ways;
the value of one cell effects the values of other cells,
which in turn effects other cells, and so on.
These types of <em>connections</em> can be elegantly
modeled using <em>graph processing</em>.</p>
<p>The purpose of this tutorial is to see if we can use <em>graph-processing</em>
to solve a sudoku.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This tutorial is limited to 9x9 sudokus.
It should technically be possible to generalize
this solution and make it work with other sizes of sudokus,
but that’s outside the scope of this article.</p>
</div>
</section>
<section id="sudoku-data-structure">
<h2>Sudoku Data Structure<a class="headerlink" href="#sudoku-data-structure" title="Link to this heading">#</a></h2>
<p>We will use <a class="reference external" href="https://networkx.org/documentation/stable/index.html">networkx</a>
for its wonderful <em>graph</em> functionalities.</p>
<p>We represent each <em>cell</em> of the sudoku as a <em>node</em>,
and each node will be identified by its <em>row-column</em>
position in the sudoku grid. Position <code class="docutils literal notranslate"><span class="pre">(0,0)</span></code>
is the top-left cell, and position <code class="docutils literal notranslate"><span class="pre">(8,8)</span></code> is the bottom-right cell.</p>
<p>We represent the <em>connections</em> between nodes by <em>edges</em>.
Cells can be connected by being in the same <em>row</em>, <em>edge</em>, or <em>box</em>.
Cells can be connected to each other either by
being in the same <em>row</em>, <em>column</em>, or <em>box</em>.</p>
<p>Since cells can be connected to one another in multiple ways
(e.g. <code class="docutils literal notranslate"><span class="pre">(0,0)</span></code> is connectod to <code class="docutils literal notranslate"><span class="pre">(0,1)</span></code> by being in the same row
and in the same box), we will use a <code class="docutils literal notranslate"><span class="pre">MultiGraph</span></code> to model our
sudoku.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many graph-processing algorithms don’t work correctly
with a MultiGraph. This is something to keep in mind.
Luckily we can easily convert our graph to a Graph.
See the <a class="reference external" href="https://networkx.org/documentation/stable/tutorial.html#multigraphs">MultiGraph documentation</a>
for more details.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">itertools</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>

<span class="n">Sudoku</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiGraph</span>


<span class="k">def</span> <span class="nf">gen_sudoku</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Sudoku</span><span class="p">:</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">n</span>
    <span class="n">sudoku</span> <span class="o">=</span> <span class="n">Sudoku</span><span class="p">()</span>
    <span class="n">sudoku</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s2">&quot;possible_values&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

    <span class="c1"># Create a node for each cell in the sudoku</span>
    <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">dim</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="n">dim</span><span class="p">)):</span>
        <span class="c1"># Each node is the row-column, and has a &#39;value&#39;</span>
        <span class="c1"># We set the value to &#39;0&#39; initially</span>
        <span class="n">sudoku</span><span class="o">.</span><span class="n">add_node</span><span class="p">((</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">),</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Create the edges for each combination of nodes</span>
    <span class="n">sudoku</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s2">&quot;connections&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;row&quot;</span><span class="p">,</span> <span class="s2">&quot;column&quot;</span><span class="p">,</span> <span class="s2">&quot;box&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">n1_row</span><span class="p">,</span> <span class="n">n1_col</span> <span class="o">=</span> <span class="n">n1</span>
        <span class="n">n2_row</span><span class="p">,</span> <span class="n">n2_col</span> <span class="o">=</span> <span class="n">n2</span>
        <span class="n">n1_box</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">//</span> <span class="n">n</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n1_row</span><span class="p">,</span> <span class="n">n1_col</span><span class="p">]]</span>
        <span class="n">n2_box</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">//</span> <span class="n">n</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n2_row</span><span class="p">,</span> <span class="n">n2_col</span><span class="p">]]</span>

        <span class="k">if</span> <span class="n">n1_row</span> <span class="o">==</span> <span class="n">n2_row</span><span class="p">:</span>
            <span class="n">sudoku</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">connection</span><span class="o">=</span><span class="s2">&quot;row&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n1_col</span> <span class="o">==</span> <span class="n">n2_col</span><span class="p">:</span>
            <span class="n">sudoku</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">connection</span><span class="o">=</span><span class="s2">&quot;column&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n1_box</span> <span class="o">==</span> <span class="n">n2_box</span><span class="p">:</span>
            <span class="n">sudoku</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">connection</span><span class="o">=</span><span class="s2">&quot;box&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">sudoku</span>


<span class="n">sudoku</span> <span class="o">=</span> <span class="n">gen_sudoku</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizing-the-sudoku">
<h2>Visualizing the Sudoku<a class="headerlink" href="#visualizing-the-sudoku" title="Link to this heading">#</a></h2>
<p>Now that we have a sudoku data structure,
let’s visualize it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_sudoku</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># - node (0,0) is at pos (0,8)</span>
    <span class="c1"># - node (0,1) is at pos (1,8)</span>
    <span class="c1"># - node (8,8) is at pos(8,0)</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="p">:</span> <span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">8</span> <span class="o">-</span> <span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">}</span>
    <span class="c1"># we label the nodes with their values</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="p">:</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">}</span>
    <span class="c1"># the color of each node will be based on its value</span>
    <span class="n">node_color</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span>
        <span class="n">sudoku</span><span class="p">,</span>
        <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
        <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">font_color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="n">node_color</span><span class="o">=</span><span class="n">node_color</span><span class="p">,</span>
        <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Set3</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">low</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span>
    <span class="n">high</span> <span class="o">=</span> <span class="mf">8.5</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">low</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="n">high</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">line</span><span class="p">,</span> <span class="n">line</span><span class="p">],</span> <span class="p">[</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;g&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">],</span> <span class="p">[</span><span class="n">line</span><span class="p">,</span> <span class="n">line</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;g&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="n">plot_sudoku</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/8c52321bfc88dd1f40a14955dc1224232c508e4aa3135ae541dcfd2635ccb14a.png" src="../_images/8c52321bfc88dd1f40a14955dc1224232c508e4aa3135ae541dcfd2635ccb14a.png" />
</div>
</div>
</section>
<section id="understanding-the-complex-connections">
<h2>Understanding the complex connections<a class="headerlink" href="#understanding-the-complex-connections" title="Link to this heading">#</a></h2>
<p>The whole point of using a <em>graph data structure</em>
was to represent the <em>connections</em> between the nodes.
We will be taking our multi-graph, which has
nodes connected in multiple ways, and split it
up into graphs whose nodes are only connected in a single way.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_connection_sudoku_map</span><span class="p">(</span><span class="n">sudoku</span><span class="p">:</span> <span class="n">Sudoku</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">]:</span>
    <span class="n">all_nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="n">all_edges</span> <span class="o">=</span> <span class="p">[(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;connection&quot;</span><span class="p">)]</span>

    <span class="n">sudoku_connections</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">conn</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s2">&quot;connections&quot;</span><span class="p">]:</span>
        <span class="n">sc</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
        <span class="n">sc</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">(</span><span class="n">all_nodes</span><span class="p">)</span>
        <span class="n">edges_to_keep</span> <span class="o">=</span> <span class="p">[(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">all_edges</span> <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="n">conn</span><span class="p">]</span>
        <span class="n">sc</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">(</span><span class="n">edges_to_keep</span><span class="p">)</span>
        <span class="n">sudoku_connections</span><span class="p">[</span><span class="n">conn</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc</span>

    <span class="n">sc_all</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
    <span class="n">sc_all</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">(</span><span class="n">all_nodes</span><span class="p">)</span>
    <span class="n">sc_all</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">all_edges</span><span class="p">)</span>
    <span class="n">sudoku_connections</span><span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc_all</span>

    <span class="k">return</span> <span class="n">sudoku_connections</span>


<span class="k">def</span> <span class="nf">plot_connections</span><span class="p">(</span><span class="n">sudoku_connections</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">conn</span><span class="p">,</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">sudoku_connections</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
        <span class="n">plot_sudoku</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>


<span class="n">sudoku_connections</span> <span class="o">=</span> <span class="n">get_connection_sudoku_map</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>
<span class="n">plot_connections</span><span class="p">(</span><span class="n">sudoku_connections</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7e9078493a115ac083dc483763383e2d3445a82bbde65c59dd72f7ff3a2459d9.png" src="../_images/7e9078493a115ac083dc483763383e2d3445a82bbde65c59dd72f7ff3a2459d9.png" />
<img alt="../_images/d2fd85a28ab7fee4af0cfae76ebef92be11976c5f47043c1c76b2c9d54a47b75.png" src="../_images/d2fd85a28ab7fee4af0cfae76ebef92be11976c5f47043c1c76b2c9d54a47b75.png" />
<img alt="../_images/16ab21b177ea7264950a08c1ecfc56662bdfc69584ab907a4e7260436a346238.png" src="../_images/16ab21b177ea7264950a08c1ecfc56662bdfc69584ab907a4e7260436a346238.png" />
<img alt="../_images/471374340089ac388e068c14ca52371ac3e1228c44597484a5c11c13307dda0a.png" src="../_images/471374340089ac388e068c14ca52371ac3e1228c44597484a5c11c13307dda0a.png" />
</div>
</div>
<p>The <em>row</em>, <em>column</em>, and <em>box</em> connections make sense to you,
but you’re probably wondering about the <em>all</em> connection…
What this represents is <em>all</em> of the nodes an individual node
is connected to; the <em>all</em> connection encompasses the <em>row-column-box</em>
connection.</p>
<section id="connected-components">
<h3>Connected components<a class="headerlink" href="#connected-components" title="Link to this heading">#</a></h3>
<p>Take a look at the <em>row</em> plot above. You’ll see that
one row is not connected to any other row.
An individual row, in In graph terminology, constitutes
a <em>connected component</em>. A connected component is a collection
of nodes that are connected to one another. In our case,
there are as many <em>connected components</em> in the <em>row graph</em> as there are rows.
The same is true for all of the different <em>connection graphs</em> above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_row_nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">sudoku_connections</span><span class="p">[</span><span class="s2">&quot;row&quot;</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">plot_sudoku</span><span class="p">(</span><span class="n">sudoku</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">first_row_nodes</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/e0cc4849ee212c481c8f10c8c66424c3f2c536a0a87f03e63545bc17560b3fe7.png" src="../_images/e0cc4849ee212c481c8f10c8c66424c3f2c536a0a87f03e63545bc17560b3fe7.png" />
</div>
</div>
<p>Here’s the first <em>box</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_box_nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">sudoku_connections</span><span class="p">[</span><span class="s2">&quot;box&quot;</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">plot_sudoku</span><span class="p">(</span><span class="n">sudoku</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">first_box_nodes</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/671b04d4a9ab8aa1541363217247a045a627b5463dce0e7d1c7f0839fbd32b66.png" src="../_images/671b04d4a9ab8aa1541363217247a045a627b5463dce0e7d1c7f0839fbd32b66.png" />
</div>
</div>
<p>I won’t plot al of the connected components of all
of the different connections, but you get the point.</p>
</section>
<section id="node-neighbors">
<h3>Node neighbors<a class="headerlink" href="#node-neighbors" title="Link to this heading">#</a></h3>
<p>The neighbors of a node are the nodes that it is connected to.
Let’s take a look at all the different ways an individual node is connected to other nodes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_sudoku_connection_neighbors</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="n">sudoku_connections_neighbors</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">conn</span><span class="p">,</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">sudoku_connections</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">neighbors</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="n">sub</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">neighbors</span><span class="p">)</span>
        <span class="n">sudoku_connections_neighbors</span><span class="p">[</span><span class="n">conn</span><span class="p">]</span> <span class="o">=</span> <span class="n">sub</span>

    <span class="n">plot_connections</span><span class="p">(</span><span class="n">sudoku_connections_neighbors</span><span class="p">)</span>


<span class="n">plot_sudoku_connection_neighbors</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/445c777314857b834dae8368ae85fc8392da743b18f5c84b627ae255da1b2a6a.png" src="../_images/445c777314857b834dae8368ae85fc8392da743b18f5c84b627ae255da1b2a6a.png" />
<img alt="../_images/4d28a59f1718584b19fb1a83e61f436d5160a82d6f3d04e359a932648db6300f.png" src="../_images/4d28a59f1718584b19fb1a83e61f436d5160a82d6f3d04e359a932648db6300f.png" />
<img alt="../_images/7bb00f8d85db4f7fbec64275f5a97e3cc1e7ee2ea43d03ff1e32760a8d57c014.png" src="../_images/7bb00f8d85db4f7fbec64275f5a97e3cc1e7ee2ea43d03ff1e32760a8d57c014.png" />
<img alt="../_images/948a59ca60903a82207823941b9ed1a8af9d00119b0fd339ea481ef7f354b302.png" src="../_images/948a59ca60903a82207823941b9ed1a8af9d00119b0fd339ea481ef7f354b302.png" />
</div>
</div>
</section>
</section>
<section id="creating-a-solver">
<h2>Creating a <em>solver</em><a class="headerlink" href="#creating-a-solver" title="Link to this heading">#</a></h2>
<p>Now we’re ready to get started on solving a sudoku!
First, we need a way to tell if a sudoku is solved or not.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">is_sudoku_solved</span><span class="p">(</span><span class="n">sudoku</span><span class="p">:</span> <span class="n">Sudoku</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="c1"># a sudoku is unsolved if there are any zeros</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">v</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)]):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="c1"># a sudoku is unsolved if any &#39;connected-components&#39; of any &#39;connections&#39;</span>
    <span class="c1"># don&#39;t have all numbers 1-9</span>
    <span class="k">for</span> <span class="n">conn</span><span class="p">,</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">get_connection_sudoku_map</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">cc</span> <span class="ow">in</span> <span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">sc</span><span class="p">):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">cc</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sudoku</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s2">&quot;possible_values&quot;</span><span class="p">]):</span>
                <span class="k">return</span> <span class="kc">False</span>
    <span class="c1"># if we made it this far, then sudoku is solved</span>
    <span class="k">return</span> <span class="kc">True</span>


<span class="k">assert</span> <span class="ow">not</span> <span class="n">is_sudoku_solved</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s create a function for solving a sudoku.
Remember that we want our solver to follow the same
logical steps that we would take for solving a sudoku:</p>
<ol class="arabic simple">
<li><p>We start with an unsolved sudoku</p></li>
<li><p>We use a <em>technique</em> to solve the value(s) of nodes(s)</p></li>
<li><p>If our technique worked, then we update the value of those cells</p></li>
<li><p>If our technique did not work, we try to use a more advanced technique</p></li>
<li><p>If all of our techniques did not work… then we admit defeat!</p></li>
</ol>
<p>Here’s what that might look like in code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">apply_updates</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span> <span class="n">updates</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">updates</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Trying to set value of node that&#39;s already set&quot;</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">sudoku</span>
            <span class="p">)</span>

    <span class="n">sudoku_updated</span> <span class="o">=</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updates</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">sudoku_updated</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">return</span> <span class="n">sudoku_updated</span>


<span class="k">def</span> <span class="nf">solve_sudoku</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span> <span class="o">*</span><span class="n">techniques</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sudoku</span><span class="p">:</span>
    <span class="c1"># let&#39;s copy the original sudoku</span>
    <span class="n">solved_sudoku</span> <span class="o">=</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">while</span> <span class="ow">not</span> <span class="n">is_sudoku_solved</span><span class="p">(</span><span class="n">solved_sudoku</span><span class="p">):</span>
        <span class="c1"># we try one technique at a time</span>
        <span class="k">for</span> <span class="n">technique</span> <span class="ow">in</span> <span class="n">techniques</span><span class="p">:</span>
            <span class="c1"># if a technique works</span>
            <span class="k">if</span> <span class="n">nodes_to_update</span> <span class="o">:=</span> <span class="n">technique</span><span class="p">(</span><span class="n">solved_sudoku</span><span class="p">):</span>
                <span class="c1"># then we update the nodes</span>
                <span class="n">solved_sudoku</span> <span class="o">=</span> <span class="n">apply_updates</span><span class="p">(</span><span class="n">solved_sudoku</span><span class="p">,</span> <span class="n">nodes_to_update</span><span class="p">)</span>
                <span class="c1"># breaking means that we simply start restart the &#39;for-loop&#39;</span>
                <span class="c1"># starting from the first technique</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Cannot solve sudoku&quot;</span><span class="p">,</span> <span class="n">solved_sudoku</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">solved_sudoku</span>


<span class="k">def</span> <span class="nf">try_solve_sudoku</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span> <span class="o">*</span><span class="n">techniques</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sudoku</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Original sudoku&quot;</span><span class="p">)</span>
    <span class="n">plot_sudoku</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># %timeit solve_sudoku(sudoku, *techniques)</span>
        <span class="n">solved_sudoku</span> <span class="o">=</span> <span class="n">solve_sudoku</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span> <span class="o">*</span><span class="n">techniques</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Solved sudoku&quot;</span>
    <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="n">msg</span><span class="p">,</span> <span class="n">solved_sudoku</span> <span class="o">=</span> <span class="n">exc</span><span class="o">.</span><span class="n">args</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">msg</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="n">msg</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">solved_sudoku</span> <span class="o">=</span> <span class="n">exc</span><span class="o">.</span><span class="n">args</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;f</span><span class="si">{msg}</span><span class="s2">, </span><span class="si">{node}</span><span class="s2">&quot;</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">plot_sudoku</span><span class="p">(</span><span class="n">solved_sudoku</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s create our first technique.
This is just a silly technique of applying a value
to a node based on its position… it will only
work for a our sudoku where all values are <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ascending_values_technique</span><span class="p">(</span><span class="n">sudoku</span><span class="p">):</span>
    <span class="n">nodes_to_update</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">n</span>
        <span class="n">br</span> <span class="o">=</span> <span class="n">r</span> <span class="o">//</span> <span class="mi">3</span>
        <span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">br</span><span class="p">)</span> <span class="o">%</span> <span class="mi">9</span> <span class="ow">or</span> <span class="mi">9</span>
        <span class="n">nodes_to_update</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
    <span class="k">return</span> <span class="n">nodes_to_update</span>


<span class="n">try_solve_sudoku</span><span class="p">(</span><span class="n">sudoku</span><span class="p">,</span> <span class="n">ascending_values_technique</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a7d20beb95993673720c33c36d8ce2dca187878dfdcd6918a962e226515a3ef7.png" src="../_images/a7d20beb95993673720c33c36d8ce2dca187878dfdcd6918a962e226515a3ef7.png" />
<img alt="../_images/c5626ff6276988ec6fbb6d17428fccdae13260112c5b7cb7cfe0f2a219a60d20.png" src="../_images/c5626ff6276988ec6fbb6d17428fccdae13260112c5b7cb7cfe0f2a219a60d20.png" />
</div>
</div>
<p>So far we have laid the groundwork for solving sudokus,
but we literally haven’t solved anything yet!
Sadly, there are still two things we need to do:</p>
<ol class="arabic simple">
<li><p>Create a helper function for  creating sudokus with real values</p></li>
<li><p>Implement real techniques for solving real sudokus</p></li>
</ol>
</section>
<section id="creating-real-sudokus">
<h2>Creating real sudokus<a class="headerlink" href="#creating-real-sudokus" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">gen_sudoku_with_values</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
    <span class="n">sudoku</span> <span class="o">=</span> <span class="n">gen_sudoku</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
            <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
    <span class="k">return</span> <span class="n">sudoku</span>


<span class="k">def</span> <span class="nf">gen_sudoku_with_strings</span><span class="p">(</span><span class="o">*</span><span class="n">strings</span><span class="p">):</span>
    <span class="n">values</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">int</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">string</span><span class="p">]</span> <span class="k">for</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">strings</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">gen_sudoku_with_values</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>


<span class="n">easy_sudoku</span> <span class="o">=</span> <span class="n">gen_sudoku_with_values</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="n">plot_sudoku</span><span class="p">(</span><span class="n">easy_sudoku</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f29879122307d158efa716cd7dc670a23d98f07bb673aa23ce27bc3498c5e8d1.png" src="../_images/f29879122307d158efa716cd7dc670a23d98f07bb673aa23ce27bc3498c5e8d1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">other_easy_sudoku</span> <span class="o">=</span> <span class="n">gen_sudoku_with_strings</span><span class="p">(</span>
    <span class="s2">&quot;900000041&quot;</span><span class="p">,</span>
    <span class="s2">&quot;730012506&quot;</span><span class="p">,</span>
    <span class="s2">&quot;061004000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;300100009&quot;</span><span class="p">,</span>
    <span class="s2">&quot;009876300&quot;</span><span class="p">,</span>
    <span class="s2">&quot;100009002&quot;</span><span class="p">,</span>
    <span class="s2">&quot;000400120&quot;</span><span class="p">,</span>
    <span class="s2">&quot;402560037&quot;</span><span class="p">,</span>
    <span class="s2">&quot;570000008&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plot_sudoku</span><span class="p">(</span><span class="n">other_easy_sudoku</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c39e1a8ca16c6bb8c3f20a70873448b3f30d5924c78761e89e2086f61fe659d1.png" src="../_images/c39e1a8ca16c6bb8c3f20a70873448b3f30d5924c78761e89e2086f61fe659d1.png" />
</div>
</div>
</section>
<section id="techniques-for-solving-sudokus">
<h2>Techniques for solving sudokus<a class="headerlink" href="#techniques-for-solving-sudokus" title="Link to this heading">#</a></h2>
<p>Okay, we’re finally ready to solve some real sudokus!
That felt like way too long of an intro… sorry.</p>
<p>Anyway, for a great resource on real sudoku-solving techniques
I referred to <a class="reference external" href="https://www.kristanix.com/sudokuepic/sudoku-solving-techniques.php">this sudoku-solving-techiques site</a>. This was really helpful in giving me the vocabulary I needed
to describe the techniques I was already using,
and it also gave me ideas for new techniques.</p>
<section id="unique-canditates">
<h3>Unique canditates<a class="headerlink" href="#unique-canditates" title="Link to this heading">#</a></h3>
<p>If any cell can only be one value, then it must be that value!
This technique is referred to as <em>unique candidates</em>.</p>
<p>This is perhaps the simplest technique.
We iterate over the nodes of the sudoku-graph and,
if a node’s value is already set, then that node can only
have that value, if the value is not set then it can only have
values that its neighbors do not have.</p>
<p>After we get the candidates of each node, any node
whose value has notw been set yet, and which has only one candidate,
must be the value of the unique candidate!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_node_candidates_map</span><span class="p">(</span><span class="n">sudoku</span><span class="p">:</span> <span class="n">Sudoku</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">set</span><span class="p">]:</span>
    <span class="n">node_candidates_map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">sudoku_possible_values</span> <span class="o">=</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s2">&quot;possible_values&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">sudoku_connections</span> <span class="o">=</span> <span class="n">get_connection_sudoku_map</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">all_neighbors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">sudoku_connections</span><span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">node</span><span class="p">))</span>
            <span class="n">values_of_all_neighbors</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
                <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">all_neighbors</span>
            <span class="p">)</span>
            <span class="n">node_candidates_map</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">sudoku_possible_values</span> <span class="o">-</span> <span class="n">values_of_all_neighbors</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">node_candidates_map</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">value</span><span class="p">}</span>

    <span class="k">return</span> <span class="n">node_candidates_map</span>


<span class="k">def</span> <span class="nf">unique_candidates_technique</span><span class="p">(</span><span class="n">sudoku</span><span class="p">):</span>
    <span class="n">updates</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">node_candidates_map</span> <span class="o">=</span> <span class="n">get_node_candidates_map</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">candidates</span> <span class="ow">in</span> <span class="n">node_candidates_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">updates</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">candidates</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">updates</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s try to solve some real sudokus!</p>
<p>The <em>unique candidates</em> technique is really simple,
so let’s start with an <em>easy</em> sudoku.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">try_solve_sudoku</span><span class="p">(</span><span class="n">easy_sudoku</span><span class="p">,</span> <span class="n">unique_candidates_technique</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/4c55cd007e511f5ac31cbab1adfe96089da78609e6203633472426ae52cca848.png" src="../_images/4c55cd007e511f5ac31cbab1adfe96089da78609e6203633472426ae52cca848.png" />
<img alt="../_images/5397e9fbc8b516d912c13d218d62269abd0972241a7175439396b1e1634f4304.png" src="../_images/5397e9fbc8b516d912c13d218d62269abd0972241a7175439396b1e1634f4304.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">try_solve_sudoku</span><span class="p">(</span><span class="n">other_easy_sudoku</span><span class="p">,</span> <span class="n">unique_candidates_technique</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/58c20a966901076f5ba43254cf30f74382af8bc88fa26950b6745e0c816193c1.png" src="../_images/58c20a966901076f5ba43254cf30f74382af8bc88fa26950b6745e0c816193c1.png" />
<img alt="../_images/6b3a186aec500d9f5b342433c4c9637ca8362bafc0f6a4381fcee2c415fd9efc.png" src="../_images/6b3a186aec500d9f5b342433c4c9637ca8362bafc0f6a4381fcee2c415fd9efc.png" />
</div>
</div>
<p>So, we can solve <em>easy</em> sudokus… how about <em>medium</em> sudokus?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">medium_sudoku</span> <span class="o">=</span> <span class="n">gen_sudoku_with_values</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="n">try_solve_sudoku</span><span class="p">(</span><span class="n">medium_sudoku</span><span class="p">,</span> <span class="n">unique_candidates_technique</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9225bdc87234bb60fe9a44ec205b7a364f53d6edfb8d879669c38880cb0ce3b0.png" src="../_images/9225bdc87234bb60fe9a44ec205b7a364f53d6edfb8d879669c38880cb0ce3b0.png" />
<img alt="../_images/9c062d46f19798d21b13cf98dd73d0c6c148345d9d80932b4b2c028454d29e67.png" src="../_images/9c062d46f19798d21b13cf98dd73d0c6c148345d9d80932b4b2c028454d29e67.png" />
</div>
</div>
<p>We can’t solve <em>medium</em> sudokus with only the <em>unique candidates</em> technique.
Luckily for us, we can just use more advanced techniques!</p>
<p>Our next technique is similar to <em>unique candidates</em>,
but a little more sophisticated.
It can be summarized as follows: after we have looked at the candidates
of each node, if any node has neighbors that can <em>only be one of 8 values</em>,
then that node <em>must be the 9th value</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">deduce_value_from_connection_candidates</span><span class="p">(</span><span class="n">sudoku</span><span class="p">):</span>
    <span class="n">possible_values</span> <span class="o">=</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">graph</span><span class="p">[</span><span class="s2">&quot;possible_values&quot;</span><span class="p">]</span>
    <span class="n">nodes_candidates_map</span> <span class="o">=</span> <span class="n">get_node_candidates_map</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>
    <span class="n">sudoku_connections</span> <span class="o">=</span> <span class="n">get_connection_sudoku_map</span><span class="p">(</span><span class="n">sudoku</span><span class="p">)</span>
    <span class="n">updates</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">sudoku</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">conn</span><span class="p">,</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">sudoku_connections</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">neighbors</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">neighbors_candidates</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
                    <span class="o">*</span><span class="p">[</span><span class="n">nodes_candidates_map</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">neighbors</span><span class="p">]</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">neighbors_candidates</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
                    <span class="n">remaining_value</span> <span class="o">=</span> <span class="n">possible_values</span> <span class="o">-</span> <span class="n">neighbors_candidates</span>
                    <span class="n">updates</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">remaining_value</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">updates</span>


<span class="n">try_solve_sudoku</span><span class="p">(</span><span class="n">medium_sudoku</span><span class="p">,</span> <span class="n">deduce_value_from_connection_candidates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9225bdc87234bb60fe9a44ec205b7a364f53d6edfb8d879669c38880cb0ce3b0.png" src="../_images/9225bdc87234bb60fe9a44ec205b7a364f53d6edfb8d879669c38880cb0ce3b0.png" />
<img alt="../_images/b23e7a4e8ed515496b5bc46035e0076a03a49ec37b5bd0adf5ae8adf2634a89c.png" src="../_images/b23e7a4e8ed515496b5bc46035e0076a03a49ec37b5bd0adf5ae8adf2634a89c.png" />
</div>
</div>
<p>Looks like this technique is just what we needed in order to solve
our <em>medium</em> sudoku. Now, can it solve a <em>hard</em> sudoku?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hard_sudoku</span> <span class="o">=</span> <span class="n">gen_sudoku_with_values</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="n">try_solve_sudoku</span><span class="p">(</span><span class="n">hard_sudoku</span><span class="p">,</span> <span class="n">deduce_value_from_connection_candidates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/57ec5d9a059c961c8d6e8aec60dd0258de9c8268a46227655e28f9a93552cf64.png" src="../_images/57ec5d9a059c961c8d6e8aec60dd0258de9c8268a46227655e28f9a93552cf64.png" />
<img alt="../_images/35d8f2f48885efb0547e1b4264a791497e3119ddeab2508fbcec1c657c0ff6cc.png" src="../_images/35d8f2f48885efb0547e1b4264a791497e3119ddeab2508fbcec1c657c0ff6cc.png" />
</div>
</div>
<p>Wow! we just solved a <em>hard</em> sudoku!
Can’t believe it!</p>
<p>How about an <em>evil</em> sudoku?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">evil_sudoku</span> <span class="o">=</span> <span class="n">gen_sudoku_with_values</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="n">try_solve_sudoku</span><span class="p">(</span><span class="n">evil_sudoku</span><span class="p">,</span> <span class="n">deduce_value_from_connection_candidates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/4bda50a7c56ea07e0f7d9166ae534f6a7a7286ee669ec8e944aad8d70e39cd02.png" src="../_images/4bda50a7c56ea07e0f7d9166ae534f6a7a7286ee669ec8e944aad8d70e39cd02.png" />
<img alt="../_images/e6f3516cc886fb668787825a20046e2cebec38b3639a434c4edf142a1477e444.png" src="../_images/e6f3516cc886fb668787825a20046e2cebec38b3639a434c4edf142a1477e444.png" />
</div>
</div>
<p>Haha, no chance!</p>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>I hoped you learnt some cool things reading this tutorial,
I know that I did!
Most importantly, I learnt that writing efficient and expressive algorithms is <strong>hard</strong>!
Using <em>backtracking</em> to solve a sudoku would have been much easier…
but still, I hate the idea of resorting to <em>brute force</em> techniques.</p>
<p>Plus, our algorithm is pretty fast…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">timeit</span> solve_sudoku(hard_sudoku, deduce_value_from_connection_candidates)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>32.3 ms ± 715 μs per loop (mean ± std. dev. of 7 runs, 10 loops each)
</pre></div>
</div>
</div>
</div>
<p>One downside to this approach, however, is that you essentially have to
program <em>unique sudoku-solving techniques</em>. If your techniques are inadequate,
then you simply <em>can’t solve the sudoku</em>.</p>
<p>Perhaps a decent solution would be to intelligently combine
<em>backtracking</em> and <em>graph-processing</em>. We can use our <em>graph-processing approach</em> to solve
as much as we can. Then, when we get stuck, we use <em>graph-processing</em> algorithms
we can search for a node that only has <em>a few</em> possible values. So, if a node can only <em>two possible values</em>,
then we have a 50% chance of guessing it right!</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "pythonic_misadventures",
            path: "./articles"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'pythonic_misadventures'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="images.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Treating pixels as vectors</p>
      </div>
    </a>
    <a class="right-next"
       href="xarray_computations.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">xarray for modeling and simulation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#no-backtracking-please">No Backtracking, Please…</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-processing-approach">Graph Processing Approach</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sudoku-data-structure">Sudoku Data Structure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-the-sudoku">Visualizing the Sudoku</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-the-complex-connections">Understanding the complex connections</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connected-components">Connected components</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#node-neighbors">Node neighbors</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-solver">Creating a <em>solver</em></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-real-sudokus">Creating real sudokus</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#techniques-for-solving-sudokus">Techniques for solving sudokus</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unique-canditates">Unique canditates</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Nico Bakomihalis
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>